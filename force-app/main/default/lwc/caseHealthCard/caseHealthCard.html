<template>
    <lightning-card title="Case Health Card" icon-name="standard:case">
        <div slot="actions">
            <lightning-button 
                label="Refresh"
                icon-name="utility:refresh"
                onclick={handleRefresh}>
            </lightning-button>

            <lightning-button
                label="Save Risk to Case"
                variant="brand"
                onclick={handleSaveRisk}>
            </lightning-button>
        </div>

        <template if:true={data}>
            <div class="slds-p-around_medium">
                <p><b>Case:</b> {data.caseNumber}</p>
                <p><b>Priority:</b> {data.priority}</p>
                <p><b>Status:</b> {data.status}</p>
                <p><b>Age (hours):</b> {data.ageHours}</p>
                <p><b>Owner changes:</b> {data.ownerChanges}</p>
                <p><b>Status changes:</b> {data.statusChanges}</p>
                <p><b>Risk Score:</b> {data.riskScore}</p>
                <p><b>Risk Level:</b> {data.riskLevel}</p>
            </div>
        </template>

        <template if:true={error}>
            <div class="slds-p-around_medium slds-text-color_error">
                {error}
            </div>
        </template>
    </lightning-card>
</template>
